<app-nav-bar></app-nav-bar>


<div class="wbdv_profile_page">

  <h1>Profile Page</h1>

  <ul class="list-group">
    <li class="list-group-item">
      <h5> UserId : </h5>
      {{user._id}}
    </li>
    <li class="list-group-item">
      <h5> Username : </h5>
      {{user.username}}
    </li>
    <li class="list-group-item">
      <h5> password: </h5>
      {{user.password}}

    </li>
    <li class="list-group-item">
      <h5> User Role: </h5>
      {{user.role}}
    </li>
    <li class="list-group-item">
      <h5> First Name : </h5>
      {{user.firstName}}
      <button class="btn btn-danger float-right">
        Hide From Public
      </button>
    </li>
    <li class="list-group-item">
      <h5> Last Name : </h5>
      {{user.lastName}}
      <br>
      <button class="btn btn-danger float-right">
        Hide From Public
      </button>
    </li>
    <li class="list-group-item">
      <h5> Email Name : </h5>
      <span [hidden]="user.editing">
      {{user.email}}
      </span>
      <br>
      <button class="btn btn-danger float-right">
        Hide From Public
      </button>
      <input [hidden]="!user.editing" [(ngModel)]="user.email"/>
      <button class="btn btn-success" [hidden]="user.editing" (click)="editUser(user)">
        Edit
      </button>
      <button class="btn btn-success" [hidden]="!user.editing" (click)="saveUser(user)">
        Save
      </button>
    </li>
    <li class="list-group-item">
      <a class="nav-link" href="/movielist/{{user._id}}">
        <h5> My MovieList </h5>
      </a>
    </li>
  </ul>
  <div> Is the user an admin?:
    <button [hidden]="user.role === 'Admin'">
      No user is Anonymous
    </button>
    <button [hidden]="user.role !== 'Admin'">
      Yes user is an admin
    </button>
  </div>
  <br>
  <table class = "table table-bordered" [hidden]="user.role !== 'Admin'">
      <!--
            COURSE TITLE : Links to Update URL
            If the course is editing, hide course title.
            Show input field.
            If the course is NOT editing show course title link.
            Hide input field.
      -->
      <thead>
      <tr>
      <th>Username</th>
      <th>Password</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Role</th>
      </tr>
      </thead>

      <tbody *ngFor="let user of users">
      <td>
        {{user.username}}
      </td>
      <td>
        {{user.password}}
      </td>
      <td>
        {{user.firstName}}
      </td>
      <td>
        {{user.lastName}}
      </td>
      <td>
        {{user.role}}
      </td>

      </tbody>
    <!--    <span [hidden]="course.editing">{{course.title}}</span>-->

    <!--    maybe use if user.role === '', its an anonymous view-->
  </table>


  <button class="btn btn-danger btn-block wbdv_profile_logoutBtn" (click)="logout()">
    Logout
  </button>


</div>
